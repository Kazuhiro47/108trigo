#!/usr/bin/python3
# coding=UTF-8

from sys import argv
from man_help import *
from matrix import *
from math import pow, sqrt, modf

def errors_check(argv):
	if (len(argv) == 1):
		exit(84)
	if (modf(sqrt(len(argv) - 2))[0] != 0):
		exit(84)
	return (sqrt(len(argv) - 2))

def retrieve_argument(argv):
	i = 2
	str = []
	while (i < len(argv)):
		str.append(argv[i])
		i += 1

	str = ''.join(str)
	return (str)

def main(argv, matrix_len):

	arguments = retrieve_argument(argv)
	matrix = create_matrix_with_str_arg(int(matrix_len), int(matrix_len), arguments)
	print_matrix(matrix)

	for n in range(42):
		result = divide_matrix_by_one_number(factorielle(2 * n), pow_matrix(matrix, 2 * n))
		result = multiply_matrix_by_one_number(pow(-1, n), result)
		result = add_matrix(result, pow_matrix(matrix, 2 * n + 1))

	print_matrix(result)

matrix_len = errors_check(argv)
main(argv, matrix_len)